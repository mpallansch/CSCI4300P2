(function(){
	var locations = {'Avondale Estates':['30002'],'Norcross':['30003','30010','30071','30091','30092','30093'],'Alpharetta':['30004','30005','30009','30022','30023'],'Marietta':['30006','30007','30008','30060','30061','30062','30063','30064','30065','30066','30067','30068','30069','30090'],'Auburn':['30011'],'Conyers':['30012','30013','30094'],'Covington':['30014','30015','30016'],'Grayson':['30017'],'Jersey':['30018'],'Dacula':['30019'],'Clarkston':['30021'],'Suwanee':['30024'],'Social Circle':['30025'],'North Metro':['30026','30029'],'Cumming':['30028','30040','30041'],'Decatur':['30030','30031','30032','30033','30034','30035','30036','30037'],'Lithonia':['30038','30058'],'Snellville':['30039','30078'],'Lawrenceville':['30042','30043','30044','30045','30046'],'Lilburn':['30047','30048'],'Loganville':['30052'],'Oxford':['30054'],'Mansfield':['30055'],'Newborn':['30056'],'Porterdale':['30070'],'Pine Lake':['30072'],'Redan':['30074'],'Roswell':['30075','30076','30077'],'Scottdale':['30079'],'Smyrna':['30080','30081','30082'],'Stone Mountain':['30083','30086','30087','30088'],'Tucker':['30084','30085'],'Duluth':['30095','30096','30097','30098','30099'],'Acworth':['30101','30102'],'Adairsville':['30103'],'Aragon':['30104'],'Armuchee':['30105'],'Austell':['30106','30168'],'Ball Ground':['30107'],'Bowdon':['30108'],'Bowdon Junction':['30109'],'Bremen':['30110'],'Clarkdale':['30111'],'Buchanan':['30113'],'Canton':['30114','30115'],'Carrollton':['30116','30117','30118','30119'],'Cartersville':['30120','30121'],'Lithia Springs':['30122'],'Cassville':['30123'],'Cave Spring':['30124'],'Cedartown':['30125'],'Mableton':['30126'],'Powder Springs':['30127'],'Coosa':['30129'],'Dallas':['30132','30157'],'Douglasville':['30133','30134','30135','30154'],'Emerson':['30137'],'Esom Hill':['30138'],'Fairmount':['30139'],'Felton':['30140'],'Hiram':['30141'],'Holly Springs':['30142'],'Jasper':['30143'],'Kennesaw':['30144','30152'],'Kingston':['30145'],'Lebanon':['30146'],'Lindale':['30147'],'Marble Hill':['30148'],'Mount Berry':['30149'],'Mount Zion':['30150'],'Nelson':['30151'],'Rockmart':['30153'],'Rome':['30161','30162','30163','30164','30165'],'Roopville':['30170'],'Rydal':['30171'],'Shannon':['30172'],'Silver Creek':['30173'],'Talking Rock':['30175'],'Tallapoosa':['30176'],'Tate':['30177'],'Taylorsville':['30178'],'Temple':['30179'],'Villa Rica':['30180'],'Waco':['30182'],'Waleska':['30183'],'White':['30184'],'Whitesburg':['30185'],'Winston':['30187'],'Woodstock':['30188','30189'],'Barnesville':['30204'],'Brooks':['30205'],'Concord':['30206'],'Experiment':['30212'],'Fairburn':['30213'],'Fayetteville':['30214','30215'],'Flovilla':['30216'],'Franklin':['30217'],'Gay':['30218'],'Glenn':['30219'],'Grantville':['30220'],'Greenville':['30222'],'Griffin':['30223','30224'],'Hampton':['30228'],'Haralson':['30229'],'Hogansville':['30230'],'Inman':['30232'],'Jackson':['30233'],'Jenkinsburg':['30234'],'Jonesboro':['30236','30237','30238'],'Lagrange':['30240','30241','30261'],'Locust Grove':['30248'],'Lovejoy':['30250'],'Luthersville':['30251'],'McDonough':['30252','30253'],'Meansville':['30256'],'Milner':['30257'],'Molena':['30258'],'Moreland':['30259'],'Morrow':['30260','30287'],'Newnan':['30263','30264','30265','30271'],'Orchard Hill':['30266'],'Palmetto':['30268'],'Peachtree City':['30269'],'Red Oak':['30272'],'Rex':['30273'],'Riverdale':['30274','30296'],'Sargent':['30275'],'Senoia':['30276'],'Sharpsburg':['30277'],'Stockbridge':['30281'],'Sunny Side':['30284'],'The Rock':['30285'],'Thomaston':['30286'],'Conley':['30288'],'Turin':['30289'],'Tyrone':['30290'],'Union City':['30291'],'Williamson':['30292'],'Woodbury':['30293'],'Ellenwood':['30294'],'Zebulon':['30295'],'Forest Park':['30297','30298'],'Atlanta':['30301','30302','30303','30304','30305','30306','30307','30308','30309','30310','30311','30312','30313','30314','30315','30316','30317','30318','30319','30320','30321','30322','30324','30325','30326','30327','30328','30329','30330','30331','30332','30333','30334','30336','30337','30338','30339','30340','30341','30342','30343','30344','30345','30346','30347','30348','30349','30350','30353','30354','30355','30356','30357','30358','30359','30360','30361','30362','30364','30366','30368','30369','30370','30371','30374','30375','30376','30377','30378','30379','30380','30384','30385','30386','30387','30388','30389','30390','30392','30394','30396','30398','30399','31106','31107','31119','31126','31131','31139','31141','31145','31146','31150','31156','31191','31192','31193','31195','31196','31197','31198','31199','39901'],'-':['30323','30335','30351','30363','30365','30367','30381','30466','30505','30610','30613','31332'],'Swainsboro':['30401'],'Ailey':['30410'],'Alamo':['30411'],'Alston':['30412'],'Bartow':['30413'],'Bellville':['30414'],'Brooklet':['30415'],'Claxton':['30417'],'Cobbtown':['30420'],'Collins':['30421'],'Daisy':['30423'],'Dover':['30424'],'Garfield':['30425'],'Girard':['30426'],'Glennville':['30427'],'Glenwood':['30428'],'Hagan':['30429'],'Louisville':['30434'],'Lyons':['30436'],'Manassas':['30438'],'Metter':['30439'],'Midville':['30441'],'Millen':['30442'],'Mount Vernon':['30445'],'Newington':['30446'],'Norristown':['30447'],'Nunez':['30448'],'Oliver':['30449'],'Portal':['30450'],'Pulaski':['30451'],'Register':['30452'],'Reidsville':['30453','30499'],'Rockledge':['30454'],'Rocky Ford':['30455'],'Sardis':['30456'],'Soperton':['30457'],'Statesboro':['30458','30459','30460','30461'],'Stillmore':['30464'],'Sylvania':['30467'],'Tarrytown':['30470'],'Twin City':['30471'],'Uvalda':['30473'],'Vidalia':['30474','30475'],'Wadley':['30477'],'Gainesville':['30501','30503','30504','30506','30507'],'Chestnut Mountain':['30502'],'Alto':['30510','30596'],'Baldwin':['30511'],'Blairsville':['30512','30514'],'Blue Ridge':['30513'],'Buford':['30515','30518','30519'],'Bowersville':['30516'],'Braselton':['30517'],'Canon':['30520'],'Carnesville':['30521'],'Cherrylog':['30522'],'Clarkesville':['30523'],'Clayton':['30525'],'Clermont':['30527'],'Cleveland':['30528'],'Commerce':['30529','30530','30599'],'Cornelia':['30531'],'Dahlonega':['30533','30597'],'Dawsonville':['30534'],'Demorest':['30535','30544'],'Dillard':['30537'],'Eastanollee':['30538'],'East Ellijay':['30539'],'Ellijay':['30540'],'Epworth':['30541'],'Flowery Branch':['30542'],'Gillsville':['30543'],'Helen':['30545'],'Hiawassee':['30546'],'Homer':['30547'],'Hoschton':['30548'],'Jefferson':['30549'],'Lakemont':['30552'],'Lavonia':['30553'],'Lula':['30554'],'Mc Caysville':['30555'],'Martin':['30557'],'Maysville':['30558'],'Mineral Bluff':['30559'],'Morganton':['30560'],'Mountain City':['30562'],'Mount Airy':['30563'],'Murrayville':['30564'],'Nicholson':['30565'],'Oakwood':['30566'],'Pendergrass':['30567'],'Rabun Gap':['30568'],'Sautee Nacoochee':['30571'],'Suches':['30572'],'Tallulah Falls':['30573'],'Talmo':['30575'],'Tiger':['30576'],'Toccoa':['30577'],'Turnerville':['30580'],'Wiley':['30581'],'Young Harris':['30582'],'Toccoa Falls':['30598'],'Athens':['30601','30602','30603','30604','30605','30606','30607','30608','30609','30612'],'Arnoldsville':['30619'],'Bethlehem':['30620'],'Bishop':['30621'],'Bogart':['30622'],'Bostwick':['30623'],'Bowman':['30624'],'Buckhead':['30625'],'Carlton':['30627'],'Colbert':['30628'],'Comer':['30629'],'Crawford':['30630'],'Crawfordville':['30631'],'Danielsville':['30633'],'Dewy Rose':['30634'],'Elberton':['30635'],'Farmington':['30638'],'Franklin Springs':['30639'],'Good Hope':['30641'],'Greensboro':['30642'],'Hartwell':['30643'],'High Shoals':['30645'],'Hull':['30646'],'Ila':['30647'],'Lexington':['30648'],'Madison':['30650'],'Monroe':['30655','30656'],'Rayle':['30660'],'Royston':['30662'],'Rutledge':['30663'],'Sharon':['30664'],'Siloam':['30665'],'Statham':['30666'],'Stephens':['30667'],'Tignall':['30668'],'Union Point':['30669'],'Maxeys':['30671'],'Washington':['30673'],'Watkinsville':['30677'],'White Plains':['30678'],'Winder':['30680'],'Winterville':['30683'],'Calhoun':['30701','30703'],'Chatsworth':['30705'],'Chickamauga':['30707'],'Cisco':['30708'],'Cohutta':['30710'],'Crandall':['30711'],'Dalton':['30719','30720','30721','30722'],'Eton':['30724'],'Flintstone':['30725'],'Graysville':['30726'],'La Fayette':['30728'],'Lyerly':['30730'],'Menlo':['30731'],'Oakman':['30732'],'Plainville':['30733'],'Ranger':['30734'],'Resaca':['30735'],'Ringgold':['30736'],'Rising Fawn':['30738'],'Rock Spring':['30739'],'Rocky Face':['30740'],'Rossville':['30741'],'Fort Oglethorpe':['30742'],'Sugar Valley':['30746'],'Summerville':['30747'],'Lookout Mountain':['30750'],'Tennga':['30751'],'Trenton':['30752'],'Trion':['30753'],'Tunnel Hill':['30755'],'Varnell':['30756'],'Wildwood':['30757'],'Appling':['30802'],'Avera':['30803'],'Blythe':['30805'],'Boneville':['30806'],'Camak':['30807'],'Dearing':['30808'],'Evans':['30809'],'Gibson':['30810'],'Gough':['30811'],'Gracewood':['30812'],'Grovetown':['30813'],'Harlem':['30814'],'Hephzibah':['30815'],'Keysville':['30816'],'Lincolnton':['30817'],'Matthews':['30818'],'Mesena':['30819'],'Mitchell':['30820'],'Norwood':['30821'],'Perkins':['30822'],'Stapleton':['30823'],'Thomson':['30824'],'Warrenton':['30828'],'Waynesboro':['30830'],'Wrens':['30833'],'Augusta':['30901','30903','30904','30905','30906','30907','30909','30910','30911','30912','30913','30914','30916','30917','30919','30999'],'Abbeville':['31001'],'Adrian':['31002'],'Allentown':['31003'],'Bolingbroke':['31004'],'Bonaire':['31005'],'Butler':['31006'],'Byromville':['31007'],'Byron':['31008'],'Cadwell':['31009'],'Cordele':['31010','31015'],'Chauncey':['31011'],'Chester':['31012'],'Clinchfield':['31013'],'Cochran':['31014'],'Culloden':['31016'],'Danville':['31017'],'Davisboro':['31018'],'Dexter':['31019'],'Dry Branch':['31020'],'Dublin':['31021','31040'],'Dudley':['31022'],'Eastman':['31023'],'Eatonton':['31024'],'Elko':['31025'],'East Dublin':['31027'],'Centerville':['31028'],'Forsyth':['31029'],'Fort Valley':['31030'],'Gordon':['31031'],'Gray':['31032'],'Haddock':['31033'],'Hardwick':['31034'],'Harrison':['31035'],'Hawkinsville':['31036'],'Helena':['31037'],'Hillsboro':['31038'],'Howard':['31039'],'Ideal':['31041'],'Irwinton':['31042'],'Jeffersonville':['31044'],'Jewell':['31045'],'Juliette':['31046'],'Kathleen':['31047'],'Kite':['31049'],'Knoxville':['31050'],'Lilly':['31051'],'Lizella':['31052'],'Mc Intyre':['31054'],'Mc Rae':['31055'],'Marshallville':['31057'],'Mauk':['31058'],'Milan':['31060'],'Milledgeville':['31061','31062'],'Montezuma':['31063'],'Monticello':['31064'],'Montrose':['31065'],'Musella':['31066'],'Oconee':['31067'],'Oglethorpe':['31068'],'Perry':['31069'],'Pinehurst':['31070'],'Pineview':['31071'],'Pitts':['31072'],'Plainfield':['31073'],'Rentz':['31075'],'Reynolds':['31076'],'Rhine':['31077'],'Roberta':['31078'],'Rochelle':['31079'],'Rupert':['31081'],'Sandersville':['31082'],'Scotland':['31083'],'Seville':['31084'],'Shady Dale':['31085'],'Smarr':['31086'],'Sparta':['31087'],'Warner Robins':['31088','31093','31095','31098','31099'],'Tennille':['31089'],'Toomsboro':['31090'],'Unadilla':['31091'],'Vienna':['31092'],'Warthen':['31094'],'Wrightsville':['31096'],'Yatesville':['31097'],'Macon':['31201','31202','31203','31204','31205','31206','31207','31208','31209','31210','31211','31212','31213','31216','31217','31220','31221','31294','31295','31296','31297','31298','31299'],'Allenhurst':['31301'],'Bloomingdale':['31302'],'Clyo':['31303'],'Crescent':['31304'],'Darien':['31305'],'Eden':['31307'],'Ellabell':['31308'],'Fleming':['31309'],'Hinesville':['31310','31313'],'Guyton':['31312'],'Fort Stewart':['31314','31315'],'Ludowici':['31316'],'Meldrim':['31318'],'Meridian':['31319'],'Midway':['31320'],'Pembroke':['31321'],'Pooler':['31322'],'Riceboro':['31323'],'Richmond Hill':['31324'],'Rincon':['31326'],'Sapelo Island':['31327'],'Tybee Island':['31328'],'Springfield':['31329'],'Townsend':['31331'],'Walthourville':['31333'],'Savannah':['31401','31402','31403','31404','31405','31406','31407','31408','31409','31410','31411','31412','31414','31415','31416','31418','31419','31420','31421','31422','31498','31499'],'Waycross':['31501','31502','31503'],'Alma':['31510'],'Ambrose':['31512'],'Baxley':['31513','31515'],'Blackshear':['31516'],'Bristol':['31518'],'Broxton':['31519'],'Brunswick':['31520','31521','31523','31524','31525'],'Saint Simons Island':['31522'],'Jekyll Island':['31527'],'Denton':['31532'],'Douglas':['31533','31534','31535'],'Folkston':['31537'],'Hazlehurst':['31539'],'Hoboken':['31542'],'Hortense':['31543'],'Jacksonville':['31544'],'Jesup':['31545','31546','31598','31599'],'Kings Bay':['31547'],'Kingsland':['31548'],'Lumber City':['31549'],'Manor':['31550'],'Mershon':['31551'],'Millwood':['31552'],'Nahunta':['31553'],'Nicholls':['31554'],'Odum':['31555'],'Offerman':['31556'],'Patterson':['31557'],'Saint Marys':['31558'],'Screven':['31560'],'Sea Island':['31561'],'Surrency':['31563'],'Waresboro':['31564'],'Waverly':['31565'],'Waynesville':['31566'],'West Green':['31567'],'White Oak':['31568'],'Woodbine':['31569'],'Valdosta':['31601','31602','31603','31604','31605','31606','31698','31699'],'Adel':['31620'],'Alapaha':['31622'],'Argyle':['31623'],'Axson':['31624'],'Barney':['31625'],'Boston':['31626'],'Cecil':['31627'],'Dixie':['31629'],'Du Pont':['31630'],'Fargo':['31631'],'Hahira':['31632'],'Homerville':['31634'],'Lakeland':['31635'],'Lake Park':['31636'],'Lenox':['31637'],'Morven':['31638'],'Nashville':['31639'],'Naylor':['31641'],'Pearson':['31642'],'Quitman':['31643'],'Ray City':['31645'],'Saint George':['31646'],'Sparks':['31647'],'Statenville':['31648'],'Stockton':['31649'],'Willacoochee':['31650'],'Albany':['31701','31702','31703','31704','31705','31706','31707','31708'],'Americus':['31709','31710'],'Andersonville':['31711'],'Arabi':['31712'],'Arlington':['31713'],'Ashburn':['31714'],'Attapulgus':['31715'],'Baconton':['31716'],'Bainbridge':['31717','31718'],'Barwick':['31720'],'Berlin':['31722'],'Blakely':['31723'],'Bluffton':['31724'],'Brinson':['31725'],'Bronwood':['31726'],'Brookfield':['31727'],'Cairo':['31728'],'Calvary':['31729'],'Camilla':['31730'],'Cedar Springs':['31732'],'Chula':['31733'],'Climax':['31734'],'Cobb':['31735'],'Coleman':['31736'],'Colquitt':['31737'],'Coolidge':['31738'],'Cotton':['31739'],'Cuthbert':['31740'],'Damascus':['31741'],'Dawson':['31742'],'De Soto':['31743'],'Doerun':['31744'],'Donalsonville':['31745'],'Edison':['31746'],'Ellenton':['31747'],'Enigma':['31749'],'Fitzgerald':['31750'],'Fort Gaines':['31751'],'Fowlstown':['31752'],'Funston':['31753'],'Georgetown':['31754'],'Hartsfield':['31756'],'Thomasville':['31757','31758','31792','31799'],'Iron City':['31759'],'Irwinville':['31760'],'Jakin':['31761'],'Leary':['31762'],'Leesburg':['31763'],'Leslie':['31764'],'Meigs':['31765'],'Morgan':['31766'],'Morris':['31767'],'Moultrie':['31768','31776'],'Mystic':['31769'],'Newton':['31770'],'Norman Park':['31771'],'Oakfield':['31772'],'Ochlocknee':['31773'],'Ocilla':['31774'],'Omega':['31775'],'Parrott':['31777'],'Pavo':['31778'],'Pelham':['31779'],'Plains':['31780'],'Poulan':['31781'],'Putney':['31782'],'Rebecca':['31783'],'Sale City':['31784'],'Sasser':['31785'],'Shellman':['31786'],'Smithville':['31787'],'Sumner':['31789'],'Sycamore':['31790'],'Sylvester':['31791'],'Tifton':['31793','31794'],'Ty Ty':['31795'],'Warwick':['31796'],'Whigham':['31797'],'Wray':['31798'],'Box Springs':['31801'],'Buena Vista':['31803'],'Cataula':['31804'],'Cusseta':['31805'],'Ellaville':['31806'],'Ellerslie':['31807'],'Fortson':['31808'],'Geneva':['31810'],'Hamilton':['31811'],'Junction City':['31812'],'Louvale':['31814'],'Lumpkin':['31815'],'Manchester':['31816'],'Midland':['31820'],'Omaha':['31821'],'Pine Mountain':['31822'],'Pine Mountain Valley':['31823'],'Preston':['31824'],'Richland':['31825'],'Shiloh':['31826'],'Talbotton':['31827'],'Upatoi':['31829'],'Warm Springs':['31830'],'Waverly Hall':['31831'],'Weston':['31832'],'West Point':['31833'],'Woodland':['31836'],'Columbus':['31901','31902','31903','31904','31906','31907','31908','31909','31914','31917','31993','31994','31997','31998','31999'],'Fort Benning':['31905','31995']};
	var cities = Object.keys(locations);
        var cityInput = document.getElementById('cityinput');
        var zipInput = document.getElementById('zipinput');

	if(cityInput){
            var city; 
            cityInput.addEventListener('keyup', function(event){
                if(event.keyCode === 16 || event.keyCode === 8){
                    populateZip(cityInput.value);
                    return;
                }
                
                city = cityFromPrefix(cityInput.value);
                if(city === undefined){
                    alert('No cities match that spelling. Please try again');
                } else if(city !== false){
                    cityInput.value = city;
                }
                
                populateZip(city);
            });
        }
        
        function cityFromPrefix(prefix){
            var uniqueCity;
            
            cities.forEach(function(city){
                if(uniqueCity !== false && prefix === city.substring(0, prefix.length)){
                    if(uniqueCity !== undefined){
                        uniqueCity = false;
                    } else {
                        uniqueCity = city;
                    }
                }
            });
            
            return uniqueCity;
        }
        
        function populateZip(city){
            var zips = locations[city];
            zipInput.innerHTML = '';
            if(zips){
                zips.forEach(function(zip){
                    zipInput.innerHTML += '<option value="' + zip + '">' + zip + '</option>';
                });
            }
        }
})();